var WireService=function(e){"use strict";Symbol("x").toString();function t(e,t,r){r.mutated||(r.mutated=new Set,Promise.resolve().then(n.bind(void 0,e,r))),r.mutated.add(t)}function n(e,t){var n,r,i=new Set,c=t.mutated;delete t.mutated,c.forEach((function(n){var r=function(e,t){var n=e[t.head];if(!t.tail)return n;for(var r=t.tail,i=0,c=r.length;i<c&&null!=n;i++){var a=r[i];if("object"!=typeof n||!(a in n))return;n=n[a]}return n}(e,n);if(t.values[n.reference]!==r){t.values[n.reference]=r;for(var c=t.listeners[n.head],a=0,o=c.length;a<o;a++)i.add(c[a])}})),n=i,r=t.values,n.forEach((function(e){var t=e.listener,n=e.statics,i=e.reactives,c=Object.create(null);if(i)for(var a=Object.keys(i),o=0,s=a.length;o<s;o++){var u=a[o],d=r[i[u]];c[u]=d}var v=Object.assign({},n,c);t.call(void 0,v)}))}function r(e,n,r){var i=t.bind(void 0,e,n,r),c=function(e,t,n){var r,i,c,a=function e(t,n,r){if(r=r||[],!t||r.indexOf(t)>-1)return null;var i=Object.getOwnPropertyDescriptor(t,n);if(i)return i;var c=Object.getPrototypeOf(t);if(!c)return null;return r.push(t),e(c,n,r)}(e,t);if(null===a||void 0===a.get&&void 0===a.set){var o=e[t];r=!0,i=function(){return o},c=function(e){o=e,n()}}else{var s=a.set,u=a.get;r=a.enumerable,c=function(t){s&&s.call(e,t),n()},i=function(){return u?u.call(e):void 0}}return{set:c,get:i,enumerable:r,configurable:!0}}(e,n.head,i);Object.defineProperty(e,n.head,c)}var i=function(e){this.type="ValueChangedEvent",this.value=e},c=function(e,t){this.type="LinkContextEvent",this.uid=e,this.callback=t};function a(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}function o(e){if(!e.includes("."))return{reference:e,head:e};var t=e.split(".");return{reference:e,head:t.shift(),tail:t}}var s=function(){function e(e,t,n,r,i){this._cmp=e,this._def=t,this._context=n,this._wireDef=r,this._wireTarget=i}return e.prototype.addEventListener=function(e,n){var i=this;switch(e){case"connect":this._context["@wire"].connected.push(n);break;case"disconnect":this._context["@wire"].disconnected.push(n);break;case"config":var c=this._wireDef.params,a=this._wireDef.static,s=void 0;if(!c||0===(s=Object.keys(c)).length){var u=a||Object.create(null);return void n.call(void 0,u)}var d={listener:n,statics:a,reactives:c},v=this._context["@wire"].updated;s.forEach((function(e){var n=o(c[e]),a=v.listeners[n.head];a?a.push(d):(a=[d],v.listeners[n.head]=a,r(i._cmp,n,v)),t(i._cmp,n,v)}));break;default:throw new Error("unsupported event type "+e)}},e.prototype.removeEventListener=function(e,t){switch(e){case"connect":a(this._context["@wire"].connected,t);break;case"disconnect":a(this._context["@wire"].disconnected,t);break;case"config":var n=this._context["@wire"].updated.listeners,r=this._wireDef.params;r&&Object.keys(r).forEach((function(e){var i=o(r[e]),c=n[i.head];c&&function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].listener===t)return void e.splice(n,1)}(c,t)}));break;default:throw new Error("unsupported event type "+e)}},e.prototype.dispatchEvent=function(e){if(e instanceof i){var t=e.value;return this._wireDef.method?this._cmp[this._wireTarget](t):this._cmp[this._wireTarget]=t,!1}if(e instanceof c){var n=e.uid,r=e.callback,a=new CustomEvent(n,{bubbles:!0,composed:!0,detail:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];r.apply(void 0,e)}});return this._cmp.dispatchEvent(a),!1}if("wirecontextevent"===e.type)return this._cmp.dispatchEvent(e);throw new Error("Invalid event "+e+".")},e}(),u=new Map;function d(e){for(var t=0,n=e.length;t<n;++t)e[t].call(void 0)}var v={wiring:function(e,t,n,r){var i=r["@wire"]=Object.create(null);i.connected=[],i.disconnected=[],i.updated={listeners:{},values:{}};for(var c=n.wire,a=Object.keys(c),o=function(t,i){var o=a[t],d=c[o],v=u.get(d.adapter);if(v){var f=new s(e,n,r,d,o);v({dispatchEvent:f.dispatchEvent.bind(f),addEventListener:f.addEventListener.bind(f),removeEventListener:f.removeEventListener.bind(f)})}},d=0,v=a.length;d<v;d++)o(d)},connected:function(e,t,n,r){var i;n.wire&&(i=r["@wire"].connected)&&d(i)},disconnected:function(e,t,n,r){var i;n.wire&&(i=r["@wire"].disconnected)&&d(i)}};return e.LinkContextEvent=c,e.ValueChangedEvent=i,e.register=function(e,t){u.set(e,t)},e.registerWireService=function(e){e(v)},e}({});
